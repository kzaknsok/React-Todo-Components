import React, { useState } from "react";
import "./styles.css";
import { InputTodo } from "./components/InputTodo";
import { IncompleteTodos } from "./components/IncompleteTodos";
import { CompleteTodos } from "./components/CompleteTodos";

/**
 * é€šå¸¸ã®html,cssã‚’å…ƒã«ä½œæˆ
 *
 * è¡¨ç¤ºã—ãŸã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„éƒ¨åˆ†ã¯ç©ºã‚¿ã‚°<></>ã‚’æ›¸ãã€
 * htmlã®<body>ã‚¿ã‚°ã ã¨è€ƒãˆã¦ãŠã“ã†ã€‚
 *
 * ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
 * æƒ…å ±ã®æ›´æ–°ã®ãŸã‚ã«æ¯å›ä¸€ç•ªåˆã‚ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€
 * ãã®ãŸã‚ãƒ«ãƒ¼ãƒ—(useState)ã‚’ä½¿ã£ã¦ã„ã‚‹ã‚¿ã‚°ã€
 * ãã®ä¸€ç•ªç›®ã®ã¨ã“ã‚ã«key="{å¼•æ•°}"ã‚’è¨˜è¿°ã™ã‚‹ã€‚
 * ã“ã‚ŒãŒç¹°ã‚Šè¿”ã—ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹æ™‚ã€å…¨ã¦ã®æƒ…å ±ã‚’èª­ã¿è¾¼ã‚€ã˜ã‚ƒãªãã€
 * å‰å›ã‹ã‚‰ã®å·®åˆ†ã ã‘èª­ã¿è¾¼ã¿ã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°åŠ¹ç‡ã‚’å‘ä¸Šã•ã›ã‚‹æ–¹æ³•ã«ãªã‚‹ã€‚
 *
 * seté–¢æ•°.map(todo)ã§è¡¨ç¤ºã•ã›ãŸã„å ´æ‰€ã€
 * ä»Šå›ã¯liã®ä¸­ã«ãƒ†ã‚­ã‚¹ãƒˆã¹ãŸæ›¸ãã˜ã‚ƒã‚‰{todo}ã«ç½®ãæ›ãˆã‚‹äº‹ã§ã€
 * mapã§ãƒ«ãƒ¼ãƒ—å‡¦ç†ã—ãŸæ™‚ã«è¦‹ã¤ã‹ã£ãŸé…åˆ—ã‚’ãã®æ•°ã ã‘å‡ºåŠ›ã™ã‚‹ã€‚
 * mapã¯é…åˆ—ã®ä¸­èº«ã‚’å‚ç…§ã€é–¢æ•°ã¨ä½µç”¨ã—ã¦forEachã®æ§˜ã«æ©Ÿèƒ½ã§ãã‚‹ã€‚
 *
 * è¿½åŠ æ©Ÿèƒ½å®Ÿè£…
 * inputãƒ†ã‚­ã‚¹ãƒˆã‚’incomplete-areaã«è¡¨ç¤ºã•ã›ã‚‹
 * inputæƒ…å ±ã®ã‚¹ãƒ†ãƒ¼ãƒˆåŒ–
 * useState
 * åˆæœŸå€¤ã¯""ç©ºçŠ¶æ…‹ã«ã—ã¦ãŠãã€
 * â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»
 * []ğŸ‘ˆã“ã‚Œã¯ç„¡ã—ã§æ›¸ã‹ãªã„ã¨ç©ºã®é…åˆ—ã‚’æ¸¡ã—ã¦ã—ã¾ã„ã€
 * å…¥åŠ›å€¤æ‰±ã„ã•ã‚Œã‚‹ã€‚
 * â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»
 *
 * ç¬¬ä¸€å¼•æ•°ã®å¤‰æ•°åtodoText,
 * æ›´æ–°ç”¨ã®ç¬¬äºŒå¼•æ•°ã®å¤‰æ•°åsetTodoText,
 * todoTextã¯inputã‚¿ã‚°ã®valueã«ã‚ãŸã‚‹
 * value={todoText}ã¨ã™ã‚‹
 * ã“ã®æ™‚ç‚¹ã§ã¯åˆæœŸå€¤ã®ç©ºæ–‡å­—ãŒè¨­å®šã•ã‚Œã¦ãŠã‚Šå…¥åŠ›æ©Ÿèƒ½ãŒåŠ¹ã‹ãªã„
 *
 * inputã‚¿ã‚°ã«onChange="{é–¢æ•°å}"ã‚’è¿½è¨˜ã—ã¦ã€
 * stateã®æ›´æ–°æ©Ÿèƒ½ã‚’å®Ÿè£…ã—å…¥åŠ›æ©Ÿèƒ½ã‚’å®Ÿç¾ã•ã›ã‚‹ã€‚
 * æ›´æ–°ç”¨ã®å¤‰å·£ã‚’å®šç¾©ã€ã‚¢ãƒ­ãƒ¼é–¢æ•°ã§å®Ÿè£…ã€
 * (e)ã¯eventã®ç•¥ã€ã“ã®éƒ¨åˆ†ã¯è‡ªç”±ã«å‘½åã€‚
 * eã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã—ãŸå‡¦ç†ã‚’æ›¸ãã€‚
 * e.target.valueã®éƒ¨åˆ†ã¯å½¢å¼çš„ã«è¦šãˆã¦ã—ã¾ã†ã€‚
 * ãã‚Œã‚’æ›´æ–°ç”¨ã§ã‚ã‚‹å¤‰æ•°setTodoTextã«æ¸¡ã™ã€‚
 *
 * inputã«onChange={onChangeTodoText}è¿½è¨˜
 * inputã‚’æ›´æ–°ã™ã‚‹onChangeTodoTextã‚’æ¸¡ã™ã“ã¨ã§å…¥åŠ›æ©Ÿèƒ½å®Ÿè£…ã€‚
 *
 * è¿½åŠ ãƒœã‚¿ãƒ³æ©Ÿèƒ½
 * è¿½åŠ ãƒœã‚¿ãƒ³ã®buttonã«onClick={}ã‚’è¿½è¨˜ã€‚
 * ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã«é€£å‹•ã•ã›ã‚‹å¤‰æ•°onClickAddã‚’å®šç¾©ã€
 * alert()ã§å‹•ä½œç¢ºèªã€alertã«ã¯todoTextã‚’æ¸¡ã™ã€‚
 * ãã®çŠ¶æ…‹ã§onClickAddã‚’buttonã®onClickã«æ¸¡ã™ã€‚
 *
 * æœªå®Œäº†ã‚¨ãƒªã‚¢ã¸ã®è¡¨ç¤º
 * todoTextã‚’incomplete-areaã«è¡¨ç¤ºã•ã›ã‚‹
 * onClickAddã«é€£å‹•ã•ã›ã‚‹ãŸã‚ã€é–¢æ•°å†…ã®å‡¦ç†ã¨ã—ã¦ã€
 * å¤‰æ•°newTodosã‚’å®Ÿè£…ã€‚
 * [...incompleteTodos, todoText]
 * ...ï¼“ã¤ã§æƒ…å ±ã‚’å¼•ãç¶™ãŒãšæ–°ã—ã„é…åˆ—ã‚’ä½œæˆã€‚
 * ç¬¬äºŒå¼•æ•°ã«todoTextã‚’æ¸¡ã™äº‹ã§é…åˆ—ã®æ›´æ–°ã‚’ã™ã‚‹ã€‚
 *
 * setIncompleteTodos(newTodos)
 * æ›´æ–°ç”¨ã‚¹ãƒ†ãƒ¼ãƒˆincompleteTodosã«ã€
 * æ›´æ–°æƒ…å ±ã®newTodosã‚’æ¸¡ã—ã¦æœªå®Œäº†ã‚¨ãƒªã‚¢ã«ã€
 * æ–°ã—ã„é…åˆ—ã‚’ç”Ÿæˆã™ã‚‹ã€‚
 *
 * ç¾æ™‚ç‚¹ã§ã®èª²é¡Œ...
 * ã€Œå…¥åŠ›æ¬„ã«ãƒ†ã‚­ã‚¹ãƒˆãŒæ®‹ã‚‹ã€ã€ã€Œç©ºæ–‡å­—ã®ã¾ã¾è¿½åŠ ã§ãã‚‹ã€
 * ã‚¯ãƒªãƒƒã‚¯ã¨åŒæ™‚ã«å…¥åŠ›æ¬„ã®ã‚¹ãƒ†ãƒ¼ãƒˆã€setTodoText("")ã«ã€
 * ç©ºæ–‡å­—ã‚’è¨­å®šã—ç›´ã™äº‹ã§å…¥åŠ›æ¬„ã®ãƒªã‚»ãƒƒãƒˆã‚’å®Ÿè£…ã€‚
 * if (todoText === "") return;ã‚’onClickAddã®æœ€åˆã«
 * çµ„ã¿è¾¼ã‚€ã“ã¨ã§ç©ºæ–‡å­—ã®å ´åˆã¯å‡¦ç†ã‚’æœ€åˆã«æˆ»ã™ã‚ˆã†è¨­å®šã€‚
 * è¿½åŠ ãŒå‡ºæ¥ãªããªã‚‹ã€‚
 *
 * å‰Šé™¤ãƒœã‚¿ãƒ³
 * å‰Šé™¤ãƒœã‚¿ãƒ³ã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆè¨­ç½®ã€Œé–¢æ•°å{onClickDelete}ã€ã¨ã™ã‚‹
 * é–¢æ•°ã‚’ä½œæˆã—alertã§å‹•ä½œç¢ºèªã€‚
 * ã“ã®æ®µéšã§ã¯ä½•è¡Œç›®ã®å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã‹åˆ¤æ–­ã§ãã¦ã„ãªã„ã€‚
 * map()ã§é…åˆ—ã‚’å—ã‘å–ã‚‹éš›ã«ã€ç¬¬äºŒå¼•æ•°ã§indexã‚’æ¸¡ã™ã¨ç•ªå·ãŒå—ã‘å–ã‚Œã‚‹ã€‚
 * onClickDelete(index)ã¨ã—ã¦ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã®å¯¾è±¡ã‚’åˆ¤åˆ¥ã€‚
 * ä¸Šã®çŠ¶æ…‹ã ã¨ãƒœã‚¿ãƒ³ã‚’æŠ¼ã•ãªã„çŠ¶æ…‹ã§ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãŒåå¿œã—ã¦ã—ã¾ã†ãŸã‚ã€
 * ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã«ã€
 * â€»â€»() => onClickDelete(index)â€»â€»
 * ã¨ã—ã¦å€‹åˆ¥ã®æ–°ã—ã„é–¢æ•°ã‚’ä½œæˆã™ã‚‹ã€‚
 * ä½µã›ã¦onClickDeleteé–¢æ•°ã®å¼•æ•°ã«(index)ã‚’æ¸¡ã—ã¦ã€
 * alert(index)ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç•ªå·ãŒå—ã‘å–ã‚Œã¦ã„ã‚‹ã‹å‹•ä½œç¢ºèªã™ã‚‹ã€‚
 *
 * æœªå®Œäº†ã®ã‚¨ãƒªã‚¢ã‹ã‚‰å‰Šé™¤ã™ã‚‹ï¼ˆãƒœã‚¿ãƒ³ã«é€£å‹•ã—ã¦è¡¨ç¤ºã‚’å‰Šé™¤ï¼‰
 * å‰Šé™¤ç”¨ã«newTodos=[...incompleteTodos]ã‚’å®šç¾©ã—ã€
 * å¼•ãç¶™ããªã—ã®æ–°ã—ã„é…åˆ—ã‚’ä½œæˆã€‚
 * newTodosã«å¯¾ã—ã¦.splice()ã‚’ä½¿ã£ã¦æ¶ˆã™ã€‚
 * splice(index, 1); ç¬¬ä¸€å¼•æ•°ã§indexã‚’å—ã‘å–ã‚Šå‰Šé™¤å¯¾è±¡ã‚’å—ã‘å–ã‚Šã€‚
 * ç¬¬äºŒå¼•æ•°ã«å‡¦ç†ã‚’è¡Œã†ä»¶æ•°ã‚’è¨­å®šã€‚
 * indexä½•ç•ªç›®ã®ä¸€ä»¶ã‚’å‰Šé™¤ã™ã‚‹ã¨ã„ã†æŒ‡ç¤ºã«ãªã‚‹ã€‚
 * setIncompleteTodos(newTodos);ã‚’è¨˜è¿°ã—ã¦ã€
 * æœªå®Œäº†ã‚¨ãƒªã‚¢ã‚’æ›´æ–°ã™ã‚‹ã€‚
 *
 * å®Œäº†ãƒœã‚¿ãƒ³
 * buttonã«onClickã‚¤ãƒ™ãƒ³ãƒˆè¨­ç½®ã€
 * é–¢æ•°åã¯onClickCompleteã¨ã—ã€deleteã¨åŒæ§˜ã«(index)ã‚’æ¸¡ã™ã€‚
 * const onClickCompleteã‚’å®šç¾©ã€é–¢æ•°ã®å¼•æ•°ã¯mapã‹ã‚‰æ¸¡ã•ã‚Œã‚‹indexã€‚
 * alert(index)ã§indexç•ªå·ã‚’å—ã‘å–ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’å‹•ä½œç¢ºèªã€‚
 *
 * æœªå®Œäº†ã‚¨ãƒªã‚¢ã‹ã‚‰ã®è¡¨ç¤ºå‰Šé™¤ã¯ã€deleteã¨åŒã˜ãƒ­ã‚¸ãƒƒã‚¯ã®ãŸã‚ä¸€æ—¦ã‚³ãƒ”ãƒšã€‚
 *     const *newTodos* = [...incompleteTodos];
 *     newTodos.splice(index, 1);
 * å®Œäº†ãƒœã‚¿ãƒ³ã§ã¯æœªå®Œäº†ã¨å®Œäº†ã®ä¸¡å´ã«ã¾ãŸãŒã‚‹å‡¦ç†ã¨ãªã‚Šã€
 * äºŒã¤ã®ä¼¼ãŸæ©Ÿèƒ½ã‚’æŒãŸã›ã‚‹ç‚¹ã‹ã‚‰ã€é–¢æ•°åã‚’åˆ¥ã‘ã‚‹ç‚ºã€
 * æœªå®Œäº†ã‚¨ãƒªã‚¢ã®å‡¦ç†ã¯newTodosã‹ã‚‰newIncompleteTodosã«æ”¹åã€‚
 *     newIncompleteTodos.splice(index, 1);
 * ã¨ã™ã‚‹äº‹ã§ã€å—ã‘å–ã£ãŸç¾çŠ¶ã®é…åˆ—[...incompleteTodos]ã‹ã‚‰ã€
 * é¸æŠã•ã‚ŒãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç•ªå·ã®ãƒªã‚¹ãƒˆã«å‡¦ç†ã‚’æ–½ã™ã€‚
 *
 * å®Œäº†ã‚¨ãƒªã‚¢ã¸ã®è¡¨ç¤ºå‡¦ç†
 * const newCompleteTodoså®šç¾©ã€‚
 * ã‚¯ãƒªãƒƒã‚¯ã§completeTodosã®æƒ…å ±ã‚’å–å¾—[...completeTodos]ã€‚
 * åŒæ™‚ã«æœªå®Œäº†ã‚¨ãƒªã‚¢ã®incompleteTodosã®é¸æŠã•ã‚ŒãŸãƒªã‚¹ãƒˆæƒ…å ±ã‚’å–å¾—ã—ãŸã„ã€
 * [...completeTodos, incompleteTodos[index]]ã¨ã—ã¦æƒ…å ±ã‚’å¾—ã‚‹ã€‚
 * çµæœã¨ã—ã¦ã€æœªå®Œäº†ã‚¨ãƒªã‚¢ã§ã¯é¸ã°ã‚ŒãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç•ªå·ã®ãƒªã‚¹ãƒˆã‚’å‰Šé™¤ã€‚
 * æœ€å¾Œã«ã€
 * setIncompleteTodos(newIncompleteTodos)
 * setCompleteTodos(newCompleteTodos)
 * ã¨ã—ã¦ã‚¹ãƒ†ãƒ¼ãƒˆã‚’æ›´æ–°ã€‚
 * å®Œäº†ã‚¨ãƒªã‚¢ã§ã¯ã€
 * ç¾åœ¨ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹+æœªå®Œäº†ã‚¨ãƒªã‚¢ã§å‰Šé™¤å¯¾è±¡ã¨ãªã£ãŸ
 * (ã“ã“ã§ã¯å®Œäº†ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸäº‹ã®æ„å‘³)ã€
 * ãƒªã‚¹ãƒˆã®æƒ…å ±ã‚’åˆã‚ã›ã¦ã€æ–°ã—ã„å®Œäº†ã‚¨ãƒªã‚¢ã®ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã™ã‚‹äº‹ã«ãªã‚‹ã€‚
 *
 * æˆ»ã™ãƒœã‚¿ãƒ³
 * buttonã«onClickè¨­ç½®+completeTodos.mapã«ç¬¬äºŒå¼•æ•°indexè¿½è¨˜ã€‚
 * ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆonClickBack(index)ã¨ã™ã‚‹ã€‚
 * é–¢æ•°onClickBackã‚’å®šç¾©ã€‚
 * å¿µã®ãŸã‚alert(index)ã§ç¢ºèªã€‚
 *     const newCompleteTodos = [...completeTodos];
 * ã¨ã—ã¦ç¾æ™‚ç‚¹ã§ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã€‚
 *     newCompleteTodos.splice(index, 1);
 * newCompleteTodosã¨ã—ã¦å–å¾—ã—ãŸå®Œäº†ãƒªã‚¹ãƒˆã‹ã‚‰ã€
 * å¼•æ•°ã¨ã—ã¦æ¸¡ã•ã‚ŒãŸindexç•ªå·ã®ãƒªã‚¹ãƒˆã‚’ä¸€ä»¶å‰Šé™¤ã™ã‚‹ã€‚
 * ã“ã‚Œã§æˆ»ã™ãƒœã‚¿ãƒ³ã«é€£å‹•ã—ã¦å®Œäº†ã‚¨ãƒªã‚¢ã‹ã‚‰é¸ã‚“ã ãƒªã‚¹ãƒˆãŒæ¶ˆãˆã‚‹ã€‚
 *
 * å®Œäº†ãƒœã‚¿ãƒ³ã®é€†ã§ã€æ–°ã—ã„newIncompleteTodosã‚’å®šç¾©ã—ã€
 * [...incompleteTodos, completeTodos[index]];ã§ã€
 * ä»Šã®æœªå®Œäº†ã‚¨ãƒªã‚¢ã®æƒ…å ±ã‚’å–å¾—+æˆ»ã™ãƒœã‚¿ãƒ³ã§æ¶ˆã—ãŸã„ãƒªã‚¹ãƒˆã®æƒ…å ±ã‚’ã€
 * å¼•æ•°indexã«å–å¾—ã—ã¦åˆç®—ã€‚
 * setCompleteTodos(newCompleteTodos);
 * setIncompleteTodos(newIncompleteTodos);
 * ã§ã‚¹ãƒ†ãƒ¼ãƒˆã®æ›´æ–°ã€‚
 *
 * â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»
 * ã“ã“ã¾ã§ã®ãƒœã‚¿ãƒ³å‡¦ç†ã¯å…±é€šã®é–¢æ•°åŒ–ãŒå¯èƒ½
 * å…±é€šéƒ¨åˆ†ã‚’ã¾ã¨ã‚ã¦ã€å·®åˆ†ã¯å¼•æ•°ã§æ‰±ã†
 * â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»â€»
 *
 * åˆæœŸå€¤ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å‰Šé™¤ã—ã¦ã€ç©ºé…åˆ—çŠ¶æ…‹ã«ã—ã¦ãŠãã€‚
 *
 * input-areaã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–
 * todoText(åˆæœŸå€¤ã®ç©ºæ–‡å­—)ã‚’todoTextã¨ã—ã¦props
 * onChangeTodoText(å…¥åŠ›å€¤ã®æ›¸ãæ›ãˆ)ã‚’onChangeã¨ã—ã¦props
 * onClickAdd(è¿½åŠ ãƒœã‚¿ãƒ³)ã‚’onClickã¨ã—ã¦props
 *
 * æœªå®Œäº†todoãŒ5å€‹ã¾ã§æºœã¾ã£ãŸã‚‰è¿½åŠ å‡ºæ¥ãªã‚‹ãªã‚‹æ©Ÿèƒ½è¿½åŠ 
 * ã¾ãšpã‚¿ã‚°ã§ã¹ãŸæ›¸ããƒ¡ãƒƒã‚»ãƒ¼ã‚¸+styleã‚’å½“ã¦ã¦è¡¨ç¤º
 * ãƒ­ã‚¸ãƒƒã‚¯ã¯incompleteTodosã¨ã®é€£å‹•ã€
 * {incompleteTodos.length}ã§æ ¼ç´ã•ã‚Œã¦ã„ã‚‹è¦ç´ æ•°ã‚’å–å¾—ã€‚
 * lengthã«å¯¾ã—ã¦ã€€>= 5 ã¨ã—ã¦
 * è¦ç´ ãŒ5å€‹ã‚’è¿ãˆãŸã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™ºå‹•ã®åŸºæº–ç‚¹ã‚’ã¤ãã‚‹ã€‚
 * æ›´ã«ã€€&& ã‚’è¿½åŠ ã—ã¦å³è¾ºã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®pã‚¿ã‚°ã‚’å…¥ã‚Œã‚‹ã€‚
 *
 * {incompleteTodos.length >= 5 && (<p style={{ color: "red" }}>todoæºœã‚ã‚‹ã®ã¯ï¼•å€‹ã¾ã§</p>)}
 *
 * &&...å·¦è¾ºãŒtrueã®æ™‚ã€å³è¾ºã‚‚true
 * ï¼•å€‹ä»¥ä¸Šã«ãªã£ãŸ(true)ã ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºã™(true)
 *
 * todoãŒ5å€‹ä»¥ä¸Šã§ç„¡åŠ¹åŒ–ã™ã‚‹æ©Ÿèƒ½è¿½åŠ 
 * inputTodosã«ãƒªã‚¹ãƒˆãŒ5å€‹æºœã¾ã£ãŸã‚‰ã€
 * è¿½åŠ æ©Ÿèƒ½ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã€‚
 *
 *         disabled={incompleteTodos.length >= 5
 *
 * inputTodosã«è¿½è¨˜ã—ãŸå†…å®¹ã€
 * incompleteTodosã®è¦ç´ æ•°ã‚’lengthã§å–å¾—ã€‚
 * >= 5ã€€5å€‹ä»¥ä¸Šã§disabledãŒtrueã«ãªã‚‹è¨­å®šã¨ã™ã‚‹ã€‚
 * ã“ã‚Œã§InputTodo.jsxã«æ›¸ã„ãŸdisabled={disabled}ã®
 * æ©Ÿèƒ½ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãŒè¨­å®šã•ã‚Œã‚‹ã€‚
 */

export const App = () => {
  const [todoText, setTodoText] = useState("");
  const [incompleteTodos, setIncompleteTodos] = useState([]);
  const [completeTodos, setCompleteTodos] = useState([]);

  const onChangeTodoText = (e) => setTodoText(e.target.value);

  const onClickAdd = () => {
    if (todoText === "")
      // alert("Todoã‚’å…¥åŠ›ã—ã¾ã—ã‚‡ã†");
      return;
    const newTodos = [...incompleteTodos, todoText];
    setIncompleteTodos(newTodos);
    setTodoText("");
  };

  const onClickDelete = (index) => {
    const newTodos = [...incompleteTodos];
    newTodos.splice(index, 1);
    setIncompleteTodos(newTodos);
  };

  const onClickComplete = (index) => {
    const newIncompleteTodos = [...incompleteTodos];
    newIncompleteTodos.splice(index, 1);

    const newCompleteTodos = [...completeTodos, incompleteTodos[index]];
    setIncompleteTodos(newIncompleteTodos);
    setCompleteTodos(newCompleteTodos);
  };

  const onClickBack = (index) => {
    const newCompleteTodos = [...completeTodos];
    newCompleteTodos.splice(index, 1);

    const newIncompleteTodos = [...incompleteTodos, completeTodos[index]];
    setCompleteTodos(newCompleteTodos);
    setIncompleteTodos(newIncompleteTodos);
  };

  return (
    <>
      <InputTodo
        todoText={todoText}
        onChange={onChangeTodoText}
        onClick={onClickAdd}
        disabled={incompleteTodos.length >= 5}
      />
      {incompleteTodos.length >= 5 && (
        <p style={{ color: "red" }}>todoæºœã‚ã‚‹ã®ã¯ï¼•å€‹ã¾ã§</p>
      )}
      <IncompleteTodos
        todos={incompleteTodos}
        onClickComplete={onClickComplete}
        onClickDelete={onClickDelete}
      />
      <CompleteTodos todos={completeTodos} onClickBack={onClickBack} />
    </>
  );
};
